<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ocean Hazard Analytics Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <style>
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .animate-fadeIn {
      animation: fadeIn 1s ease-in-out;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans">
  <div class="flex h-screen">
    <!-- Main Content -->
    <div class="flex-1 p-6 overflow-y-auto">
      <!-- Header -->
      <div class="flex justify-between items-center mb-4">
        <div class="flex items-center space-x-4">
          <a href="index_new.html" class="text-blue-600 hover:text-blue-800 font-semibold">Back to Home</a>
          <div class="relative w-1/2">
            <input type="text" placeholder="Search reports, locations, or keywords..." class="w-full p-2 pl-10 border rounded-lg">
            <span class="absolute left-3 top-2.5 text-gray-400">üîç</span>
          </div>
        </div>
        <div class="flex space-x-4">
          <button class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-300">Filters</button>
          <button class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition duration-300">Export</button>
          <button class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition duration-300">üîî 3</button>
        </div>
      </div>

      <!-- Sections -->
      <div id="dashboard" class="section animate-fadeIn">
        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
          <h1 class="text-2xl font-bold">Ocean Hazard Analytics</h1>
          <p class="text-gray-500">Real-time monitoring and analysis of coastal hazard reports</p>
          <p class="text-sm text-gray-400" id="last-updated">Last updated: 19/09/2025, 18:43 (System confidential)</p>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
          <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
            <p class="text-gray-500">Active Reports</p>
            <p class="text-2xl font-bold" id="active-reports">247 <span class="text-green-500">+12% last week</span></p>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
            <p class="text-gray-500">Contributing Users</p>
            <p class="text-2xl font-bold" id="contributing-users">1,543 <span class="text-red-500">-8% last week</span></p>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
            <p class="text-gray-500">Locations Monitored</p>
            <p class="text-2xl font-bold" id="locations-monitored">89 <span class="text-green-500">+17% last week</span></p>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
            <p class="text-gray-500">Verification Rate</p>
            <p class="text-2xl font-bold" id="verification-rate">84% <span class="text-gray-500">+0% last week</span></p>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
            <p class="text-gray-500">Avg Response Time</p>
            <p class="text-2xl font-bold" id="response-time">4.2m <span class="text-red-500">-13% last week</span></p>
          </div>
          <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
            <p class="text-gray-500">Social Mentions</p>
            <p class="text-2xl font-bold" id="social-mentions">2.1k <span class="text-green-500">+25% last week</span></p>
          </div>
        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <!-- Reports by User -->
          <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
            <h2 class="text-xl font-bold">Reports by User</h2>
            <p class="text-gray-500">User contribution with verification rates</p>
            <canvas id="reportsChart"></canvas>
          </div>
          <!-- Source Distribution -->
          <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
            <h2 class="text-xl font-bold">Source Distribution</h2>
            <p class="text-gray-500">Report sources over time (Crowdsourced, Social Media, 3rd Party)</p>
            <canvas id="sourceChart"></canvas>
          </div>
        </div>

        <!-- Event Timeline -->
        <div class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
          <h2 class="text-xl font-bold">Event Timeline</h2>
          <p class="text-gray-500">Reports and social media mentions throughout the day</p>
          <canvas id="timelineChart"></canvas>
        </div>
      </div>

      <div id="interactive-map" class="section hidden animate-fadeIn">
        <h1 class="text-2xl font-bold mb-4">Interactive Map</h1>
        <div id="map" class="h-96 w-full rounded-lg shadow-md"></div>
      </div>

      <div id="reports" class="section hidden animate-fadeIn">
        <h1 class="text-2xl font-bold mb-4">Reports</h1>
        <table class="w-full bg-white rounded-lg shadow-md">
          <thead>
            <tr class="bg-gray-200">
              <th class="p-2">ID</th>
              <th class="p-2">Location</th>
              <th class="p-2">Type</th>
              <th class="p-2">Status</th>
            </tr>
          </thead>
          <tbody>
            <tr class="hover:bg-gray-100 transition duration-300">
              <td class="p-2">001</td>
              <td class="p-2">Coast A</td>
              <td class="p-2">Hazard</td>
              <td class="p-2">Verified</td>
            </tr>
            <!-- Add more rows as needed -->
          </tbody>
        </table>
      </div>

      <div id="media" class="section hidden animate-fadeIn">
        <h1 class="text-2xl font-bold mb-4">Media</h1>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <img src="https://via.placeholder.com/300" alt="Media 1" class="rounded-lg shadow-md hover:scale-105 transition duration-300">
          <!-- Add more images -->
        </div>
      </div>

      <div id="findings" class="section hidden animate-fadeIn">
        <h1 class="text-2xl font-bold mb-4">Findings</h1>
        <p class="bg-white p-4 rounded-lg shadow-md">Detailed findings and analysis go here.</p>
      </div>
    </div>
  </div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Show Section Function
    function showSection(sectionId) {
      document.querySelectorAll('.section').forEach(section => {
        section.classList.add('hidden');
      });
      document.getElementById(sectionId).classList.remove('hidden');
      if (sectionId === 'interactive-map') {
        initMap();
      }
    }

    // Initialize Map
    let mapInitialized = false;
    function initMap() {
      if (!mapInitialized) {
        const map = L.map('map').setView([20.5937, 78.9629], 5); // India center
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          maxZoom: 19,
        }).addTo(map);
        L.marker([20.5937, 78.9629]).addTo(map)
          .bindPopup('Hazard Location')
          .openPopup();
        mapInitialized = true;
      }
    }

    // Charts
    const reportsChart = new Chart(document.getElementById('reportsChart'), {
      type: 'bar',
      data: {
        labels: ['Rakesh Kumar', 'Priya Sharma', 'Mohammad Khan', 'Anjali Nair', 'Vijay Singh', 'Meena Patil'],
        datasets: [{
          label: 'Total Reports',
          data: [12, 9, 4, 7, 5, 10],
          backgroundColor: 'rgba(59, 130, 246, 0.5)'
        }, {
          label: 'Verified Reports',
          data: [8, 6, 3, 4, 4, 7],
          backgroundColor: 'rgba(34, 197, 94, 0.5)'
        }]
      },
      options: { scales: { y: { beginAtZero: true } } }
    });

    const sourceChart = new Chart(document.getElementById('sourceChart'), {
      type: 'line',
      data: {
        labels: ['Jan 10', 'Jan 11', 'Jan 12', 'Jan 13', 'Jan 14', 'Jan 15'],
        datasets: [{
          label: 'Crowdsourced',
          data: [40, 50, 60, 55, 70, 65],
          fill: true,
          backgroundColor: 'rgba(59, 130, 246, 0.3)',
          borderColor: 'rgba(59, 130, 246, 1)'
        }, {
          label: 'Social Media',
          data: [30, 35, 40, 45, 50, 55],
          fill: true,
          backgroundColor: 'rgba(245, 158, 11, 0.3)',
          borderColor: 'rgba(245, 158, 11, 1)'
        }, {
          label: '3rd Party',
          data: [20, 25, 30, 35, 40, 45],
          fill: true,
          backgroundColor: 'rgba(234, 88, 12, 0.3)',
          borderColor: 'rgba(234, 88, 12, 1)'
        }]
      },
      options: { elements: { line: { tension: 0.4 } }, scales: { y: { beginAtZero: true } } }
    });

    const timelineChart = new Chart(document.getElementById('timelineChart'), {
      type: 'line',
      data: {
        labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '24:00'],
        datasets: [{
          label: 'Reports',
          data: [15, 20, 35, 50, 40, 30, 25],
          borderColor: 'rgba(59, 130, 246, 1)',
          fill: false,
          tension: 0.4
        }, {
          label: 'Social Media',
          data: [10, 15, 30, 45, 35, 25, 20],
          borderColor: 'rgba(132, 204, 22, 1)',
          fill: false,
          tension: 0.4
        }]
      },
      options: { scales: { y: { beginAtZero: true } } }
    });

    // Dynamic Updates (simulate real-time)
    setInterval(() => {
      // Update stats randomly
      document.getElementById('active-reports').innerHTML = `${Math.floor(Math.random() * 50 + 200)} <span class="text-green-500">+${Math.floor(Math.random() * 20)}% last week</span>`;
      document.getElementById('contributing-users').innerHTML = `${Math.floor(Math.random() * 500 + 1000)} <span class="text-red-500">-${Math.floor(Math.random() * 10)}% last week</span>`;
      document.getElementById('locations-monitored').innerHTML = `${Math.floor(Math.random() * 20 + 70)} <span class="text-green-500">+${Math.floor(Math.random() * 20)}% last week</span>`;
      document.getElementById('verification-rate').innerHTML = `${Math.floor(Math.random() * 10 + 80)}% <span class="text-gray-500">+${Math.floor(Math.random() * 5)}% last week</span>`;
      document.getElementById('response-time').innerHTML = `${(Math.random() * 2 + 3).toFixed(1)}m <span class="text-red-500">-${Math.floor(Math.random() * 15)}% last week</span>`;
      document.getElementById('social-mentions').innerHTML = `${Math.floor(Math.random() * 500 + 1500)} <span class="text-green-500">+${Math.floor(Math.random() * 30)}% last week</span>`;
      document.getElementById('last-updated').innerHTML = `Last updated: ${new Date().toLocaleString('en-GB', { timeZone: 'Asia/Kolkata' })} (System confidential)`;
    }, 10000); // Every 10 seconds

    // Show dashboard by default
    showSection('dashboard');
  </script>
</body>
</html>